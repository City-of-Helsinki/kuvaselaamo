{% extends 'hkm/base_collection.html' %}
{% load i18n %}
{% load hkm_tags %}

{% block banner %}

  <div class="page-header">
    <div class="banner__container fullsize-container container">
      <div class="banner__title">
        <h1 class="banner__h1">{{ collection.title }}</h1>
      </div>
      <form class="banner__title-form" method="POST">
        <h1 class="banner__h1">{{ collection_form.title }}</h1>
        {% csrf_token %}
        <input type="hidden" name="action" value="edit" />
        <button class="banner__title-form__btn btn btn-primary" type="submit">{% trans 'Save' %}</button>
        <button class="banner__title-form__btn btn btn-default" type="button">{% trans 'Cancel' %}</button>
      </form>
      <div class="header-actions">
        {% if permissions.can_edit %}
          <button id="edit-title-btn" class="header-actions__btn"><img src="/static/hkm/img/share.png"></img></button>
        {% endif %}
          <button class="header-actions__btn"><img src="/static/hkm/img/share.png"></img></button>
      </div>
    </div>
  </div>

{% endblock %}

{% block content %}

  <div class="fullsize-container container">

    <div class="grid flex-images">
      <div class="grid__group item-slider invisible">
        {% for record in collection.records.all %}
          <div class="grid__item item" data-w="" data-h="">
            <a href="{% url 'hkm_collection' collection_id=collection.id %}?rid={{ record.id }}">
              <div class="grid__meta">
                <span class="grid__meta--title">{{ record }}</span>
                <span class="grid__meta--other"></span>
              </div>
              <img class="flex-img" src="{% finna_image record.record_id w=400 h=400 %}"></img>
            </a>
            {% if collection.collection_type == 'favorite' %}
              <div class="grid__fav active"></div>
            {% else %}
              <button class="grid__fav {% if record|is_favorite:user %}active{% endif %}" data-record-id="{{ record.record_id }}"></button>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>

  </div> <!-- Container -->

{% endblock %}
